<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Matrix-PIXI (PIXI.Matrix-PIXI)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../">Up</a> â€“ <a href="../">PIXI</a> &#x00BB; Matrix-PIXI</nav><h1>Module <code>Matrix-PIXI</code></h1></header><dl><dt class="spec type" id="type-transformOpaque"><a href="#type-transformOpaque" class="anchor"></a><code><span class="keyword">type</span> transformOpaque</code>;</dt><dd><p>FIXME: lack of support for https://github.com/BuckleScript/bucklescript/issues/3949 doesn't allow recursive dependencies on JS-class bindings, so references to PIXI.Transform.t are rendered as anonymous types in Matrix context</p><dl><dt>see <a href="/bs-pixi/PIXI/MatrixUtils-PIXI/">/bs-pixi/PIXI/MatrixUtils-PIXI/</a></dt><dd><p>MatrixUtils</p></dd></dl></dd></dl><div class="spec class-type" id="class-type-_t"><a href="#class-type-_t" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-_t">_t</a> = { ... }</code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = Js.t(<a href="class-type-_t">_t</a>)</code>;</dt><dd><p>The PixiJS Matrix as a class makes it a lot faster (to work with matrixes). Here is a representation of it:</p><p>| a | c | tx| | b | d | ty| | 0 | 0 | 1 |</p></dd></dl><div class="spec module" id="module-Impl"><a href="#module-Impl" class="anchor"></a><code><span class="keyword">module</span> <a href="Impl">Impl</a>: { ... };</code></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="#module-Impl">Impl</a><span class="keyword">;</span></code></span></summary><dl><dt class="spec external" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">let</span> create: <span>?&#8288;a:float</span> <span>=&gt;</span> <span>?&#8288;b:float</span> <span>=&gt;</span> <span>?&#8288;c:float</span> <span>=&gt;</span> <span>?&#8288;d:float</span> <span>=&gt;</span> <span>?&#8288;tx:float</span> <span>=&gt;</span> <span>?&#8288;ty:float</span> <span>=&gt;</span> unit <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>creates a new matrix</p><dl><dt>parameter a</dt><dd><p>x scale (default 1)</p></dd></dl><dl><dt>parameter b</dt><dd><p>x skew (default 0)</p></dd></dl><dl><dt>parameter c</dt><dd><p>y skew (default 0)</p></dd></dl><dl><dt>parameter d</dt><dd><p>y scale (default 1)</p></dd></dl><dl><dt>parameter tx</dt><dd><p>x translation (default 0)</p></dd></dl><dl><dt>parameter ty</dt><dd><p>y translation (default 0)</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-identity_"><a href="#val-identity_" class="anchor"></a><code><span class="keyword">let</span> identity_: <a href="#type-t">t</a>;</code></dt><dd><p>A default (identity) matrix</p></dd></dl><dl><dt class="spec external" id="val-tempMatrix"><a href="#val-tempMatrix" class="anchor"></a><code><span class="keyword">let</span> tempMatrix: <a href="#type-t">t</a>;</code></dt><dd><p>A temp matrix</p></dd></dl><dl><dt class="spec external" id="val-getA"><a href="#val-getA" class="anchor"></a><code><span class="keyword">let</span> getA: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float;</code></dt><dd><p>x scale</p></dd></dl><dl><dt class="spec external" id="val-setA"><a href="#val-setA" class="anchor"></a><code><span class="keyword">let</span> setA: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float <span>=&gt;</span> unit;</code></dt><dd><p>x scale</p></dd></dl><dl><dt class="spec external" id="val-getB"><a href="#val-getB" class="anchor"></a><code><span class="keyword">let</span> getB: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float;</code></dt><dd><p>x skew</p></dd></dl><dl><dt class="spec external" id="val-setB"><a href="#val-setB" class="anchor"></a><code><span class="keyword">let</span> setB: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float <span>=&gt;</span> unit;</code></dt><dd><p>x skew</p></dd></dl><dl><dt class="spec external" id="val-getC"><a href="#val-getC" class="anchor"></a><code><span class="keyword">let</span> getC: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float;</code></dt><dd><p>y skew</p></dd></dl><dl><dt class="spec external" id="val-setC"><a href="#val-setC" class="anchor"></a><code><span class="keyword">let</span> setC: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float <span>=&gt;</span> unit;</code></dt><dd><p>y skew</p></dd></dl><dl><dt class="spec external" id="val-getD"><a href="#val-getD" class="anchor"></a><code><span class="keyword">let</span> getD: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float;</code></dt><dd><p>y scale</p></dd></dl><dl><dt class="spec external" id="val-setD"><a href="#val-setD" class="anchor"></a><code><span class="keyword">let</span> setD: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float <span>=&gt;</span> unit;</code></dt><dd><p>y scale</p></dd></dl><dl><dt class="spec external" id="val-getTx"><a href="#val-getTx" class="anchor"></a><code><span class="keyword">let</span> getTx: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float;</code></dt><dd><p>x translation</p></dd></dl><dl><dt class="spec external" id="val-setTx"><a href="#val-setTx" class="anchor"></a><code><span class="keyword">let</span> setTx: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float <span>=&gt;</span> unit;</code></dt><dd><p>x translation</p></dd></dl><dl><dt class="spec external" id="val-getTy"><a href="#val-getTy" class="anchor"></a><code><span class="keyword">let</span> getTy: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float;</code></dt><dd><p>y translation</p></dd></dl><dl><dt class="spec external" id="val-setTy"><a href="#val-setTy" class="anchor"></a><code><span class="keyword">let</span> setTy: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> float <span>=&gt;</span> unit;</code></dt><dd><p>y translation</p></dd></dl><dl><dt class="spec external" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">let</span> append: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>matrix:Js.t(<a href="class-type-_t">_t</a>)</span> <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Appends the given Matrix to this Matrix.</p><dl><dt>parameter matrix</dt><dd><p>The matrix to append.</p></dd></dl><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span class="keyword">let</span> apply: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>pos:Js.t(<a href="../PIXI#module-Point">PIXI.Point</a>.#_t)</span> <span>=&gt;</span> <span>?&#8288;newPos:Js.t(<a href="../PIXI#module-Point">PIXI.Point</a>.#_t)</span> <span>=&gt;</span> unit <span>=&gt;</span> Js.t(<a href="../PIXI#module-Point">PIXI.Point</a>.#_t);</code></dt><dd><p>Get a new position with the current transformation applied. Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)</p><dl><dt>parameter pos</dt><dd><p>The origin</p></dd></dl><dl><dt>parameter newPos</dt><dd><p>The point that the new position is assigned to (allowed to be same as input)</p></dd></dl><dl><dt>returns</dt><dd><p>The new point, transformed through this matrix</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-applyInverse"><a href="#val-applyInverse" class="anchor"></a><code><span class="keyword">let</span> applyInverse: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>pos:Js.t(<a href="../PIXI#module-Point">PIXI.Point</a>.#_t)</span> <span>=&gt;</span> <span>?&#8288;newPos:Js.t(<a href="../PIXI#module-Point">PIXI.Point</a>.#_t)</span> <span>=&gt;</span> unit <span>=&gt;</span> Js.t(<a href="../PIXI#module-Point">PIXI.Point</a>.#_t);</code></dt><dd><p>Get a new position with the inverse of the current transformation applied. Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)</p><dl><dt>parameter pos</dt><dd><p>The origin</p></dd></dl><dl><dt>parameter newPos</dt><dd><p>(optional) The point that the new position is assigned to (allowed to be same as input)</p></dd></dl><dl><dt>returns</dt><dd><p>The new point, transformed through this matrix</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-clone"><a href="#val-clone" class="anchor"></a><code><span class="keyword">let</span> clone: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Creates a new Matrix object with the same values as this one.</p><dl><dt>returns</dt><dd><p>A copy of this matrix. Good for chaining method calls.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-copyFrom"><a href="#val-copyFrom" class="anchor"></a><code><span class="keyword">let</span> copyFrom: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>matrix:Js.t(<a href="class-type-_t">_t</a>)</span> <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Changes the values of the matrix to be the same as the ones in given matrix</p><dl><dt>parameter matrix</dt><dd><p>The matrix to copy from.</p></dd></dl><dl><dt>returns</dt><dd><p>itself</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-copyTo"><a href="#val-copyTo" class="anchor"></a><code><span class="keyword">let</span> copyTo: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>matrix:Js.t(<a href="class-type-_t">_t</a>)</span> <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Changes the values of the given matrix to be the same as the ones in this matrix</p><dl><dt>parameter matrix</dt><dd><p>The matrix to copy to.</p></dd></dl><dl><dt>returns</dt><dd><p>The matrix given in parameter with its values updated.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-decompose"><a href="#val-decompose" class="anchor"></a><code><span class="keyword">let</span> decompose: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>transform:<a href="#type-transformOpaque">transformOpaque</a></span> <span>=&gt;</span> <a href="#type-transformOpaque">transformOpaque</a>;</code></dt><dd><p>Decomposes the matrix (x, y, scaleX, scaleY, and rotation) and sets the properties on to a transform.</p><dl><dt>deprecated</dt><dd><p>Consider using MatrixUtils.decompose instead</p></dd></dl><dl><dt>see <a href="/bs-pixi/PIXI/MatrixUtils-PIXI/#val-decompose">/bs-pixi/PIXI/MatrixUtils-PIXI/#val-decompose</a></dt><dd><p>MatrixUtils.decompose</p></dd></dl><dl><dt>parameter transform</dt><dd><p>The transform to apply the properties to</p></dd></dl><dl><dt>returns</dt><dd><p>The transform with the newly applied properties</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-fromArray"><a href="#val-fromArray" class="anchor"></a><code><span class="keyword">let</span> fromArray: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>array:array(float)</span> <span>=&gt;</span> unit;</code></dt><dd><p>Creates a Matrix object based on the given array. The Element to Matrix mapping order is as follows a = array<code>0</code> b = array<code>1</code> c = array<code>3</code> d = array<code>4</code> tx = array<code>2</code> ty = array<code>5</code></p><dl><dt>parameter array</dt><dd><p>The array that the matrix will be populated from.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-identity"><a href="#val-identity" class="anchor"></a><code><span class="keyword">let</span> identity: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Resets this Matrix to an identity (default) matrix.</p><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-invert"><a href="#val-invert" class="anchor"></a><code><span class="keyword">let</span> invert: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Inverts this matrix</p><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-prepend"><a href="#val-prepend" class="anchor"></a><code><span class="keyword">let</span> prepend: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>matrix:Js.t(<a href="class-type-_t">_t</a>)</span> <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Prepends the given Matrix to this Matrix.</p><dl><dt>parameter The</dt><dd><p>matrix to prepend</p></dd></dl><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-rotate"><a href="#val-rotate" class="anchor"></a><code><span class="keyword">let</span> rotate: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>angle:float</span> <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Applies a rotation transformation to the matrix.</p><dl><dt>parameter angle</dt><dd><p>The angle in radians</p></dd></dl><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-scale"><a href="#val-scale" class="anchor"></a><code><span class="keyword">let</span> scale: Js.t(<a href="class-type-_t">_t</a>) <span>=&gt;</span> <span>x:float</span> <span>=&gt;</span> <span>y:float</span> <span>=&gt;</span> Js.t(<a href="class-type-_t">_t</a>);</code></dt><dd><p>Applies a scale transformation to the matrix.</p><dl><dt>parameter x</dt><dd><p>The amount to scale horizontally</p></dd></dl><dl><dt>parameter y</dt><dd><p>The amount to scale vertically</p></dd></dl><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">let</span> set: <a href="#type-t">t</a> <span>=&gt;</span> <span>a:float</span> <span>=&gt;</span> <span>b:float</span> <span>=&gt;</span> <span>c:float</span> <span>=&gt;</span> <span>d:float</span> <span>=&gt;</span> <span>tx:float</span> <span>=&gt;</span> <span>ty:float</span> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>sets the matrix properties</p><dl><dt>parameter a</dt><dd><p>Matrix component</p></dd></dl><dl><dt>parameter b</dt><dd><p>Matrix component</p></dd></dl><dl><dt>parameter c</dt><dd><p>Matrix component</p></dd></dl><dl><dt>parameter d</dt><dd><p>Matrix component</p></dd></dl><dl><dt>parameter tx</dt><dd><p>Matrix component</p></dd></dl><dl><dt>parameter ty</dt><dd><p>Matrix component</p></dd></dl><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-setTransform"><a href="#val-setTransform" class="anchor"></a><code><span class="keyword">let</span> setTransform: <a href="#type-t">t</a> <span>=&gt;</span> <span>x:float</span> <span>=&gt;</span> <span>y:float</span> <span>=&gt;</span> <span>pivotX:float</span> <span>=&gt;</span> <span>pivotY:float</span> <span>=&gt;</span> <span>scaleX:float</span> <span>=&gt;</span> <span>scaleY:float</span> <span>=&gt;</span> <span>rotation:float</span> <span>=&gt;</span> <span>skewX:float</span> <span>=&gt;</span> <span>skewY:float</span> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Sets the matrix based on all the available properties</p><dl><dt>parameter x</dt><dd><p>Position on the x axis</p></dd></dl><dl><dt>parameter y</dt><dd><p>Position on the y axis</p></dd></dl><dl><dt>parameter pivotX</dt><dd><p>Pivot on the x axis</p></dd></dl><dl><dt>parameter pivotY</dt><dd><p>Pivot on the y axis</p></dd></dl><dl><dt>parameter scaleX</dt><dd><p>Scale on the x axis</p></dd></dl><dl><dt>parameter scaleY</dt><dd><p>Scale on the y axis</p></dd></dl><dl><dt>parameter rotation</dt><dd><p>rotation in radians</p></dd></dl><dl><dt>parameter skewX</dt><dd><p>Skew on the x axis</p></dd></dl><dl><dt>parameter skewY</dt><dd><p>Skew on the y axis</p></dd></dl><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls.</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-toArray"><a href="#val-toArray" class="anchor"></a><code><span class="keyword">let</span> toArray: <a href="#type-t">t</a> <span>=&gt;</span> <span>transpose:bool</span> <span>=&gt;</span> <span>?&#8288;out:Js.Typed_array.Float32Array.t</span> <span>=&gt;</span> unit <span>=&gt;</span> array(float);</code></dt><dd><p>Creates an array from the current Matrix object</p><dl><dt>parameter transpose</dt><dd><p>Whether we need to transpose the matrix or not</p></dd></dl><dl><dt>parameter out</dt><dd><p>(optional) If provided the array will be assigned to out</p></dd></dl><dl><dt>returns</dt><dd><p>the newly created array which contains the matrix</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-translate"><a href="#val-translate" class="anchor"></a><code><span class="keyword">let</span> translate: <a href="#type-t">t</a> <span>=&gt;</span> <span>x:float</span> <span>=&gt;</span> <span>y:float</span> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Translates the matrix on the x and y</p><dl><dt>parameter x</dt><dd><p>How much to translate x by</p></dd></dl><dl><dt>parameter y</dt><dd><p>How much to translate y by</p></dd></dl><dl><dt>returns</dt><dd><p>This matrix. Good for chaining method calls.</p></dd></dl></dd></dl></details></div></div></div></div></body></html>